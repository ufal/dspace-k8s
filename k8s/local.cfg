    dspace.dir = /dspace
    db.url = jdbc:postgresql://dspace-postgres-rw:5432/dspace
    db.username = dspace
    # db.password is read from environment variable POSTGRES_PASSWORD (set in deployment)
    db.password = ${env:POSTGRES_PASSWORD}
    # External hostname served by Ingress (TLS terminated at Ingress)
    dspace.hostname = hello-clarin-dspace.dyn.cloud.e-infra.cz
    # External-facing URLs should omit ports (Ingress terminates TLS on 443)
    dspace.baseUrl = https://${dspace.hostname}
    dspace.ui.url = https://${dspace.hostname}
    # The /server path is routed by the Ingress to the backend (no external port)
    dspace.server.url = https://${dspace.hostname}/server
    # Allow CORS from external hostname and localhost for local development
    rest.cors.allowed-origins = https://${dspace.hostname}
    # Solr now runs in a separate StatefulSet with its own service
    solr.server = http://dspace-solr-service:8983/solr
    management.health.solr.enabled = false
    management.endpoint.health.show-details = never
    useProxies = true
    proxies.trusted.include_ui_ip = true
    # Restrict trusted proxies to cluster Pod CIDR
    # Only trust X-Forwarded-* headers from Ingress controller within cluster network
    proxies.trusted.ipranges = 10.42.0.0/16

    #### S3 Assetstore Configuration ####
    # S3-ONLY configuration: No local assetstore, no synchronization
    # All bitstreams are stored exclusively in S3 object storage
    # See: https://github.com/ufal/clarin-dspace/wiki/S3-Storage-Integration
    # For S3 secrets setup, see: https://github.com/ufal/dspace-k8s/issues/23

    # S3 assetstore as Store 1 (primary and only storage)
    assetstore.index.primary = 1

    # S3 Assetstore Configuration (Store 1)
    assetstore.s3.enabled = true
    assetstore.s3.useRelativePath = true

    # S3 credentials and endpoint (loaded from environment variables for security)
    assetstore.s3.awsAccessKey = ${env:AWS_ACCESS_KEY_ID}
    assetstore.s3.awsSecretKey = ${env:AWS_SECRET_ACCESS_KEY}
    assetstore.s3.endpoint = ${env:S3_ENDPOINT}
    assetstore.s3.awsRegionName = ${env:S3_REGION}
    assetstore.s3.bucketName = ${env:S3_BUCKET_NAME}

    # S3 upload configuration
    assetstore.s3.subfolder = bitstreams
    assetstore.s3.awsClientMaxRetry = 3
    assetstore.s3.awsClientMaxConnections = 50

    # Enable path-style access (required for CESNET S3 and other S3-compatible services)
    assetstore.s3.pathStyleAccessEnabled = true

    # Disable local/S3 synchronization - store ONLY in S3
    # When false, new uploads go only to the primary store (S3)
    sync.storage.service.enabled = false

    # Enable direct S3 download via presigned URLs for better performance
    # Downloads will use presigned URLs, allowing clients to fetch directly from S3
    s3.download.direct.enabled = true

    # Database connection pool tuning
    # Increase from default 10-20 to support more concurrent users
    db.maxconnections = 100
    # Maximum wait time in milliseconds for a connection
    db.maxwait = 10000
    # Maximum idle connections in the pool
    db.maxidle = 20
    # until we finish https://github.com/ufal/clarin-dspace/issues/1156
    spring.servlet.multipart.max-file-size = 10GB
    spring.servlet.multipart.max-request-size = 10GB

